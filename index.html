<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-eval' 'unsafe-inline' https://unpkg.com;">
    <title>TebuRun予約アプリモック</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    </head>
<body>
    <div class="app-container">
        <!-- G1: ホーム & 駅選択 -->
        <main id="screen-g1" class="screen">
            <header class="app-header">
                <h1>TebuRun</h1>
            </header>
            <div class="content" id="g1-content">
                <div class="catch-copy">
                    <p>手ぶらで、走る。</p>
                    <p>新しい朝を、ここから。</p>
                </div>

                <div class="station-selector">
                    <div class="input-group">
                        <label for="origin-station">出発駅</label>
                        <div class="input-with-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-train"><path d="m2 10 3-4 9 10 3 4"/><path d="m13 10 9 4"/><path d="m19 10-3 2"/><path d="M2 17h20"/><path d="M15 17a3 3 0 1 0 0 6 3 3 0 0 0 0-6Z"/><path d="M8 17a3 3 0 1 0 0 6 3 3 0 0 0 0-6Z"/></svg>
                            <input type="text" id="origin-station" placeholder="下のリストから選択" readonly>
                        </div>
                    </div>
                    <div class="input-group">
                        <label for="destination-station">到着駅</label>
                        <div class="input-with-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-running"><path d="M22 7v3h-2"/><path d="M4 17v-3h2"/><path d="M14 17l-8 3V7l8-3 4 2v7H6"/><path d="M18 10h-4"/></svg>
                            <input type="text" id="destination-station" placeholder="下のリストから選択" readonly>
                        </div>
                    </div>
                </div>

                <div class="station-list-container">
                    <p class="list-header" id="station-selection-guide">出発駅を選択してください</p>
                    <div class="station-cards">
                        <div class="station-card" data-station-name="東京駅" data-locker-status="available" data-shower-status="available">
                            <div class="station-card-main">
                                <p class="card-title">東京駅</p>
                                <div class="facility-icons">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-locker"><rect x="2" y="2" width="20" height="20" rx="2" ry="2"/><path d="M12 2v20"/><path d="M7 10h.01"/><path d="M17 10h.01"/></svg>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shower"><path d="m4 12 2-2h10l2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2Z"/><path d="M14 2v2"/><path d="M10 2v2"/><path d="M12 7v2"/></svg>
                                </div>
                            </div>
                        </div>
                        <div class="station-card" data-station-name="新宿駅" data-locker-status="available" data-shower-status="partial">
                            <div class="station-card-main">
                                <p class="card-title">新宿駅</p>
                                <div class="facility-icons">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-locker"><rect x="2" y="2" width="20" height="20" rx="2" ry="2"/><path d="M12 2v20"/><path d="M7 10h.01"/><path d="M17 10h.01"/></svg>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shower"><path d="m4 12 2-2h10l2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2Z"/><path d="M14 2v2"/><path d="M10 2v2"/><path d="M12 7v2"/></svg>
                                </div>
                            </div>
                        </div>
                        <div class="station-card" data-station-name="品川駅" data-locker-status="unavailable" data-shower-status="unavailable">
                            <div class="station-card-main">
                                <p class="card-title">品川駅</p>
                                <div class="facility-icons">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-locker"><rect x="2" y="2" width="20" height="20" rx="2" ry="2"/><path d="M12 2v20"/><path d="M7 10h.01"/><path d="M17 10h.01"/></svg>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shower"><path d="m4 12 2-2h10l2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2Z"/><path d="M14 2v2"/><path d="M10 2v2"/><path d="M12 7v2"/></svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <p class="error-message" id="selection-error-message"></p>
                <button class="btn-primary" id="to-schedule-btn" disabled>スケジュール選択へ</button>

            </div>
        </main>

        <!-- G2: スケジュール & 空き状況 (Initially Hidden) -->
        <section id="screen-g2" class="screen" style="display: none;">
            
            <header class="app-header">
                <h1>スケジュール</h1>
            </header>
            <div class="content">
                <div class="calendar-strip">
                    <div class="date-item"><p class="day-of-week">月</p><p class="day">28</p></div>
                    <div class="date-item"><p class="day-of-week">火</p><p class="day">29</p></div>
                    <div class="date-item active"><p class="day-of-week">水</p><p class="day">30</p></div>
                    <div class="date-item"><p class="day-of-week">木</p><p class="day">31</p></div>
                    <div class="date-item"><p class="day-of-week">金</p><p class="day">1</p></div>
                </div>

                <div class="time-slots-container">
                    <div class="time-slots-grid">
                        <button class="time-slot" data-time="07:00" data-status="available">07:00</button>
                        <button class="time-slot" data-time="07:30" data-status="partial">
                            07:30
                            <div class="availability-dots">
                                <span class="dot available" title="ロッカー"></span>
                                <span class="dot partial" title="シャワー"></span>
                            </div>
                        </button>
                        <button class="time-slot" data-time="08:00" data-status="available">08:00</button>
                        <button class="time-slot" data-time="08:30" data-status="available">08:30</button>
                        <button class="time-slot" data-time="09:00" data-status="unavailable">
                            09:00
                            <div class="availability-dots">
                                <span class="dot unavailable" title="ロッカー"></span>
                                <span class="dot unavailable" title="シャワー"></span>
                            </div>
                        </button>
                        <button class="time-slot" data-time="09:30" data-status="available">09:30</button>
                    </div>
                </div>

                <div class="price-card">
                    <div class="price-item">
                        <p class="price-label">料金</p>
                        <p class="price-value">¥1,200</p>
                    </div>
                    <div class="price-item">
                        <p class="price-label">予想所要時間</p>
                        <p class="price-value">約63分</p>
                    </div>
                </div>

                <button class="btn-primary" disabled>予約確認へ</button>
            </div>
            
        </section>

        <!-- G3: 予約確認モーダル (Initially Hidden) -->
        <div id="screen-g3" class="modal-overlay" style="display: none;">
            
            <div class="modal-content">
                <h2 class="modal-title">予約内容の確認</h2>
                <div class="reservation-details">
                    <div class="detail-item">
                        <span class="detail-label">日時</span>
                        <span class="detail-value" id="g3-datetime"></span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">出発</span>
                        <span class="detail-value" id="g3-origin-station"></span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">到着</span>
                        <span class="detail-value" id="g3-destination-station"></span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ロッカー</span>
                        <span class="detail-value" id="g3-locker-status"></span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">シャワー</span>
                        <span class="detail-value" id="g3-shower-status"></span>
                    </div>
                </div>
                <div class="modal-price-summary">
                    <p class="total-label">お支払い金額</p>
                    <p class="total-value">¥1,200</p>
                </div>
                <button class="btn-primary">予約を確定する</button>
                <button class="btn-secondary">キャンセル</button>
            </div>
            
        </div>

        <!-- G4: My 予約（QR ロッカーキー） (Initially Hidden) -->
        <section id="screen-g4" class="screen" style="display: none;">
            
            <header class="app-header">
                <h1>My予約</h1>
            </header>
            <div class="content">
                <div class="qr-code-card">
                    <p class="qr-card-title">ロッカーキー</p>
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=R1234567" alt="QR Code" class="qr-code-image">
                    <p class="reservation-id">ID: R1234567</p>
                </div>

                <div class="usage-details-card">
                    <div class="usage-detail-item">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                        <span>2025年7月30日(水) 07:30</span>
                    </div>
                    <div class="usage-detail-item">
                        <i data-lucide="train"></i>
                        <span>出発: 東京駅</span>
                    </div>
                    <div class="usage-detail-item">
                        <i data-lucide="running"></i>
                        <span>到着: 新宿駅</span>
                    </div>
                    <div class="usage-detail-item">
                        <i data-lucide="locker"></i>
                        <span>ロッカー: B-3</span>
                    </div>
                    <div class="usage-detail-item">
                        <i data-lucide="shower"></i>
                        <span>シャワー: No.5</span>
                    </div>
                </div>

                <button class="btn-danger">予約をキャンセル</button>
            </div>
            
        </section>
    </div>
    <script src="script.js"></script>
</body>
</html>